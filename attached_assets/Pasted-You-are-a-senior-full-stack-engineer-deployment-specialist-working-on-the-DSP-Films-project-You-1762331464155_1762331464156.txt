You are a senior full-stack engineer & deployment specialist working on the â€œDSP Filmsâ€ project.
Your task is to fully fix, optimize, and finalize this project for production delivery â€” including frontend (Vercel), backend (Render), and admin panel (Replit environment).

The repository is already connected in Replit and synced with GitHub:
Frontend: /frontend (React + Craco)
Backend: /backend (FastAPI + Uvicorn)

ğŸ¯ MAIN OBJECTIVE

Make the entire project fully functional, production-ready, and live-deployable in one go â€” without requiring further user prompts.

This includes:

Fixing frontend build errors (framer-motion or missing modules).

Ensuring all frontend pages and components (Gallery, Portfolio, Packages, Contact) are visible and styled.

Fixing admin panel login, edit, and dashboard modules (CRUD).

Restoring backend routes and health check /api/health.

Ensuring successful deployment:

Backend â†’ Render (/api/health returns âœ…)

Frontend â†’ Vercel (site loads, admin panel loads, no 404s)

Keeping existing environment variables (Render + Replit secrets) intact.

ğŸ§  TASK BREAKDOWN
1ï¸âƒ£ Dependency & Build Fix

Identify and resolve all missing dependencies (especially framer-motion).

If framer-motion causes Vercel build failure, auto-replace it with a fallback system:

Prefer react-spring (if available), else use custom /frontend/src/utils/Motion.jsx wrapper.

Update all affected imports automatically.

Regenerate correct lockfiles (package-lock.json and/or yarn.lock).

Add postinstall script to ensure required libs are reinstalled during Vercel deploy.

Clean up deprecated or conflicting packages.

2ï¸âƒ£ Frontend Repair

Ensure /frontend/src/components/ pages like Gallery, Portfolio, Packages, and Home render fully.

Restore missing imports, asset paths, or images if build omitted them.

Reconnect frontend to backend API URLs using process.env.REACT_APP_BACKEND_URL.

Ensure admin panel /admin loads without blank/white screens.

If necessary, rebuild admin UI minimal animations using available motion library.

Fix all runtime or console errors.

3ï¸âƒ£ Backend Stability

Verify backend FastAPI app in /backend/server.py includes routes for:

/api/health

/api/admin/auth

/api/pages, /api/gallery, /api/packages, etc.

Ensure MongoDB connection works with existing secrets:

MONGO_URL, DB_NAME, JWT_SECRET, UPLOAD_DIR

Handle 404 root by adding safe default route.

Test API endpoints and return consistent JSON.

4ï¸âƒ£ Admin Panel (Critical)

Fix login with credentials provided in environment (email + password).

Ensure the emergency reset system (EMERGENCY_RESET_KEY) works.

Restore Dashboard, Gallery, Blog, Packages, and Offers CRUD with live preview.

Enable safe WYSIWYG or inline editing (only the â€œsafeâ€ text/number edit + live preview â€” no heavy visual editor).

Verify images and logos can be uploaded/changed dynamically.

Protect â€œBuilt by Shubh Saudagarâ€ footer (non-editable).

5ï¸âƒ£ Deployment Checks

Ensure successful backend deploy on Render:

Logs show â€œâœ… Auth router includedâ€ and â€œğŸ“‚ Upload directory activeâ€.

/api/health returns { status: "ok" }

Ensure successful frontend deploy on Vercel:

No â€œModule not foundâ€ or yarn build failure.

All pages visible online.

Confirm both links (frontend and backend) live and connected.

6ï¸âƒ£ Cleanup & Delivery

Remove unused dependencies or commented code.

Verify favicon, meta tags, and title are correct (DSP Films | Admin Panel).

Optimize file sizes and images if large.

Add final footer note: Â© 2025 DSP Films. Developed by Shubh Saudagar.

Push all changes to GitHub branch main.

Trigger both Render & Vercel deployments automatically.

âš™ï¸ ADDITIONAL INSTRUCTIONS

Be efficient with credit usage â€” batch commits, skip redundant rebuilds.

Prioritize fixing functional errors over cosmetic animations.

If a fix can be done locally instead of API call, prefer local.

Show short summary at the end:

ğŸ§¾ Changed files list

âœ… Backend health check response

ğŸŒ Final live URLs (Vercel + Render)

âš™ï¸ Steps done summary

ğŸ”‘ Key ENV variables already configured

MONGO_URL, DB_NAME, JWT_SECRET, UPLOAD_DIR

ADMIN_EMAIL, ADMIN_PASSWORD

EMERGENCY_RESET_KEY, EMERGENCY_RESET_LINK

GROQ_API_KEY, GEMINI_API_KEY

âš ï¸ Rules

Do NOT modify the public branding or domain.

Do NOT remove author credits.

Do NOT use paid APIs or third-party services.

Keep UI layout minimal, modern, responsive, and fast.

All commits must be descriptive and clean.

âœ… Final Output Expectation

After your run, provide this structured summary:

âœ… DEPLOYMENT STATUS SUMMARY
â”œâ”€â”€ Frontend (Vercel): âœ… SUCCESS / âŒ FAIL
â”œâ”€â”€ Backend (Render): âœ… SUCCESS / âŒ FAIL
â”œâ”€â”€ Admin Panel: âœ… Login / CRUD / Upload working
â”œâ”€â”€ Pages visible: Gallery, Portfolio, Packages âœ…
â”œâ”€â”€ Health URL: <render_backend>/api/health âœ…
â”œâ”€â”€ Final Commit ID: <hash>
â””â”€â”€ Developed by Shubh Saudagar â€” Ready for delivery


Start now. Fix everything automatically with minimum Replit credits. Return final summary only after both deploys succeed.

ğŸ§¾ Summary of What This Prompt Will Do:

âœ… Fix build issues (framer-motion / lockfiles)
âœ… Ensure gallery, portfolio, packages visible